datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Questionnaire {
  apartment    Apartment? @relation(fields: [apartmentId], references: [id])
  apartmentId  String?
  createdAt    DateTime   @default(now())
  id           String     @id @default(cuid())
  questionText String?
  updatedAt    DateTime   @updatedAt
  user         User?      @relation(fields: [userId], references: [id])
  userId       String?
}

model Apartment {
  address        String?
  area           Float?
  city           String?
  createdAt      DateTime        @default(now())
  description    String?
  etage          Int?
  favorites      Favorite[]
  id             String          @id @default(cuid())
  landlord       String?
  postalCode     String?
  price          Float?
  questionnaires Questionnaire[]
  roomsCount     Int?
  title          String?
  updatedAt      DateTime        @updatedAt
}

model Favorite {
  apartment   Apartment? @relation(fields: [apartmentId], references: [id])
  apartmentId String?
  createdAt   DateTime   @default(now())
  id          String     @id @default(cuid())
  updatedAt   DateTime   @updatedAt
  user        User?      @relation(fields: [userId], references: [id])
  userId      String?
}

model User {
  createdAt      DateTime        @default(now())
  email          String?         @unique
  favorites      Favorite[]
  firstName      String?
  id             String          @id @default(cuid())
  lastName       String?
  password       String
  questionnaires Questionnaire[]
  roles          Json
  updatedAt      DateTime        @updatedAt
  username       String          @unique
}
